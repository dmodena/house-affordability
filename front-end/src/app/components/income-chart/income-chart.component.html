<section class="income-chart-section">
  <div class="wrap">
    <h1>House Price vs Income (Annual)</h1>

    <div class="controls">
      <label for="boroughInput">Borough</label>
      <input
        id="boroughInput"
        list="boroughs"
        placeholder="Start typing (e.g., Barnet)..."
        [(ngModel)]="selectedBorough"
        (keydown.enter)="loadBoroughData()"
      />
      <datalist id="boroughs">
        @for (borough of availableBoroughs(); track borough) {
          <option [value]="borough"></option>
        }
      </datalist>

      <button (click)="loadBoroughData()">Load</button>
      <span id="status">{{ status() }}</span>
    </div>

    <div class="card">
      <canvas #chart height="120"></canvas>
    </div>

    <div class="insight">
      <div><b>Selected years:</b> <span id="yearRange">{{ yearRangeDisplay() }}</span></div>
      <div id="insightText">{{ insightText() }}</div>
      <button id="resetRangeBtn" type="button" (click)="resetSelection()">Reset selection</button>
    </div>

    <p class="hint">
      Two lines: <b>house price</b> and <b>annual income</b> for the selected
      borough. (Different scales are expectedâ€”income is much smaller.)
    </p>
  </div>
</section>
